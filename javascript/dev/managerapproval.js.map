{"version":3,"sources":["webpack:///./javascript/ManagerApproval/index.jsx","webpack:///./javascript/Mixin/Modal.jsx","webpack:///./javascript/Mixin/Message.jsx","webpack:///./javascript/ManagerApproval/ManagerApproval.jsx","webpack:///./javascript/Mixin/Empty.js","webpack:///./javascript/Mixin/ErrorPage.jsx"],"names":["render","document","getElementById","Modal","props","state","header","body","footer","onClose","$","modalId","on","bind","Component","defaultProps","propTypes","PropTypes","oneOfType","string","element","func","Message","icon","type","messageType","message","ManagerApproval","managers","modal","errorPage","currentManager","managerId","inquiryDate","key","refuseReason","load","openModal","setState","getJSON","done","data","fail","responseText","setTimeout","ajax","url","param","approved","dataType","success","removeManager","setMessage","error","closeModal","e","reason","target","dataset","length","window","location","href","resetCurrentManager","complete","listing","companyAddress","websiteAddress","getMessage","map","value","company_address","company_map_address","searchLink","company_name","replace","company_url","email","email_address","fontSize","approve","id","last_inquiry_date","inquiry","refuse","times_available","first_name","last_name","username","phone_tel","phone","last_log_date","RefuseModal","spacing","marginBottom","display","empty","undefined","ErrorPage"],"mappings":"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","file":"managerapproval.js","sourcesContent":["'use strict'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport ManagerApproval from './ManagerApproval.jsx'\n\nReactDOM.render(\n    <ManagerApproval/>, document.getElementById('managerapproval'))\n\n\n\n/** WEBPACK FOOTER **\n ** ./javascript/ManagerApproval/index.jsx\n **/","import React from 'react'\n\n/* global $ */\n\nclass Modal extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      header: null,\n      body: null,\n      footer: null\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.onClose) {\n      $('#' + this.props.modalId).on('hidden.bs.modal', function () {\n        this.props.onClose()\n      }.bind(this))\n    }\n  }\n\n  render() {\n    return (\n      <div id={this.props.modalId} className=\"modal fade\" tabIndex=\"-1\" role=\"dialog\">\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n              <h4 className=\"modal-title\">{this.props.header}</h4>\n            </div>\n            <div className=\"modal-body\">\n              {this.props.body}\n            </div>\n            <div className=\"modal-footer\">\n              {this.props.footer}\n              <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nModal.defaultProps = {\n  header: null,\n  body: null,\n  footer: null,\n  modalId: 'reactModal',\n  onClose: null\n}\n\nModal.propTypes = {\n  header: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.element]),\n  body: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.element]),\n  footer: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.element]),\n  modalId: React.PropTypes.string,\n  onClose: React.PropTypes.func\n}\n\nexport default Modal\n\n\n\n/** WEBPACK FOOTER **\n ** ./javascript/Mixin/Modal.jsx\n **/","import React from 'react'\n\nclass Message extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    let icon = ''\n    switch (this.props.type) {\n      case 'danger':\n        icon = 'fa fa-exclamation-triangle'\n        break\n\n      case 'success':\n        icon = 'fa fa-thumbs-o-up'\n        break\n\n      case 'info':\n        icon = 'fa fa-info-circle'\n        break\n\n      case 'warning':\n        icon = 'fa fa-hand-paper-o'\n        break\n    }\n\n    let messageType = 'lead alert alert-dismissible alert-' + this.props.type\n    return (\n      <div className={messageType} role=\"alert\">\n        <button\n          type=\"button\"\n          onClick={this.props.onClose}\n          className=\"close\"\n          data-dismiss=\"alert\"\n          aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n        <i className={icon}></i>&nbsp;\n        {this.props.message}\n      </div>\n    )\n  }\n}\n\nMessage.propTypes = {\n  type: React.PropTypes.string,\n  message: React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.element]),\n  onClose: React.PropTypes.func\n}\n\nMessage.defaultProps = {\n  type: 'info'\n}\n\nexport default Message\n\n\n\n/** WEBPACK FOOTER **\n ** ./javascript/Mixin/Message.jsx\n **/","'use strict'\nimport React from 'react'\nimport Message from '../Mixin/Message.jsx'\nimport Modal from '../Mixin/Modal.jsx'\nimport empty from '../Mixin/Empty.js'\nimport ErrorPage from '../Mixin/ErrorPage.jsx'\n//import bindMethods from '../Mixin/Bind.js'\n\n/* global $ */\n\nexport default class ManagerApproval extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      managers: null,\n      message: null,\n      messageType: 'danger',\n      modal: false,\n      errorPage: null\n    }\n    this.currentManager = {\n      managerId: 0,\n      inquiryDate: 0,\n      key: null\n    }\n    this.refuseReason = this.refuseReason.bind(this)\n  }\n\n  componentDidMount() {\n    this.load()\n  }\n\n  componentDidUpdate(props, state) {\n    if (state.modal !== this.state.modal && this.state.modal) {\n      this.openModal()\n    }\n  }\n\n  openModal() {\n    $('#reactModal').modal('show')\n    $('#reactModal').on('hidden.bs.modal', function () {\n      this.setState({modal: false})\n    }.bind(this))\n    this.setState({modal: true})\n  }\n\n  closeModal() {\n    $('#reactModal').modal('hide')\n    this.setState({modal: false})\n  }\n\n  load() {\n    $.getJSON('properties/ManagerApproval').done(function (data) {\n      this.setState({managers: data['managerList']})\n    }.bind(this)).fail(function (data) {\n      this.setState({managers: null})\n      this.setState({'errorPage': data.responseText})\n    }.bind(this))\n  }\n\n  setMessage(message, type) {\n    this.setState({message: message, messageType: type})\n  }\n\n  getMessage() {\n    if (this.state.message !== null) {\n      setTimeout(function () {\n        this.setState({message: null, messageType: 'danger'})\n      }.bind(this), 4000)\n      return <Message message={this.state.message} type={this.state.messageType}/>\n    } else {\n      return null\n    }\n  }\n\n  approve(managerId, key) {\n    $.ajax({\n      url: './properties/Manager',\n      data: {\n        managerId: managerId,\n        param: 'approved',\n        approved: 1\n      },\n      dataType: 'json',\n      type: 'patch'\n    }).done(function (data) {\n      if (data.success) {\n        this.removeManager(key)\n        this.setMessage('Manager approved', 'success')\n      } else {\n        this.setMessage('Could not approve manager', 'danger')\n      }\n    }.bind(this)).error(function (data) {\n      this.closeModal()\n      this.setState({'errorPage': data.responseText})\n    }.bind(this))\n  }\n\n  removeManager(key)\n  {\n    let managers = this.state.managers\n    delete(managers[key])\n    this.setState({managers: managers})\n  }\n\n  refuse(managerId, inquiryDate, key) {\n    this.setState({modal: true})\n    this.currentManager = {\n      managerId: managerId,\n      inquiryDate: inquiryDate,\n      key: key\n    }\n  }\n\n  refuseReason(e) {\n    const reason = e.target.dataset.reason\n    $.ajax({\n      url: `./properties/Manager/${this.currentManager.managerId}/refuse/`,\n      data: {\n        reason: reason\n      },\n      dataType: 'json',\n      type: 'put'\n    }).done(function () {\n      this.closeModal()\n      if (this.state.managers.length === 1) {\n        window.location.href = './properties/Manager/'\n      } else {\n        this.removeManager(this.currentManager.key)\n        this.resetCurrentManager()\n      }\n    }.bind(this)).error(function (data) {\n      this.closeModal()\n      this.setState({'errorPage': data.responseText})\n    }.bind(this)).complete(function () {})\n\n  }\n\n  resetCurrentManager() {\n    this.currentManager = {\n      managerId: 0,\n      inquiryDate: 0,\n      key: null\n    }\n  }\n\n  cancelReason() {\n    this.resetCurrentManager()\n\n  }\n\n  inquiry() {}\n\n  render() {\n    if (this.state.errorPage !== null) {\n      return <ErrorPage message={this.state.errorPage}/>\n    }\n    let listing = <p>No managers waiting for approval</p>\n    let companyAddress\n    let websiteAddress\n    const message = this.getMessage()\n    let modal\n    if (this.state.modal) {\n      modal = <RefuseModal\n        reason={this.refuseReason}\n        inquiryDate={this.currentManager.inquiryDate}/>\n    }\n\n    if (this.state.managers !== null) {\n      listing = this.state.managers.map(function (value, key) {\n        companyAddress = empty(value.company_address)\n          ? <em>No physical address</em>\n          : (\n            <span>{value.company_address}&nbsp;\n              <a href={value.company_map_address} target=\"_index\">\n                <i className=\"fa fa-map\"></i>\n              </a>\n            </span>\n          )\n\n        const searchLink = `https://www.google.com/search?q=${value.company_name.replace(/ /g, '+')}`\n        websiteAddress = empty(value.company_url)\n          ? <span>\n              <em>No website address</em>&nbsp;\n              <a target=\"_index\" href={searchLink}>\n                <i className=\"fa fa-search\"></i>\n              </a>\n            </span>\n          : <a href={value.company_url} target=\"_index\">{value.company_url}</a>\n        const email = `mailto:${value.email_address}`\n        return (\n          <div className=\"panel panel-info\" key={key}>\n            <div className=\"panel-heading\">\n              <span style={{\n                fontSize: '2em'\n              }}>{value.company_name}</span>\n              <div className=\"pull-right\">\n                <button\n                  className=\"btn btn-success\"\n                  onClick={this.approve.bind(this, value.id, key)}>\n                  <i className=\"fa fa-check\"></i>&nbsp;Accept</button>&nbsp; {value.last_inquiry_date\n                  ? null\n                  : (\n                    <span>\n                      <button\n                        className=\"btn btn-info\"\n                        onClick={this.inquiry.bind(this, value.id, key)}>\n                        <i className=\"fa fa-question\"></i>&nbsp;Inquiry</button>&nbsp;</span>\n                  )}\n                <button\n                  className=\"btn btn-danger\"\n                  onClick={this.refuse.bind(this, value.id, value.last_inquiry_date, key)}>\n                  <i className=\"fa fa-ban\"></i>&nbsp;Refuse</button>\n              </div>\n            </div>\n            <div className=\"row panel-body\">\n              <div className=\"col-sm-4\">\n                <h4>Company</h4>\n                {websiteAddress}\n                <br/> {empty(value.times_available)\n                  ? <em>No contact times given</em>\n                  : <div>{value.times_available}</div>}\n                <div>{companyAddress}</div>\n              </div>\n              <div className=\"col-sm-4\">\n                <h4>Contact</h4>\n                <strong>Name:</strong>&nbsp;{value.first_name}&nbsp;{value.last_name}<br/>\n                <strong>Username:</strong>&nbsp;{value.username}<br/>\n                <a href={value.phone_tel}>{value.phone}</a><br/>\n                <a href={email}>{value.email_address}</a>\n              </div>\n              <div className=\"col-sm-4\">\n                <h4>Request date</h4>\n                {value.last_log_date}\n                {value.last_inquiry_date\n                  ? <div>\n                      <h4>Inquiry made</h4>\n                      <span>{value.last_inquiry_date}</span>\n                    </div>\n                  : null}\n              </div>\n            </div>\n          </div>\n        )\n      }.bind(this))\n    }\n    return (\n      <div>\n        {modal}\n        {message}\n        {listing}\n      </div>\n    )\n  }\n}\n\nclass RefuseModal extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    const spacing = {\n      marginBottom: '10px',\n      display: 'block'\n    }\n    const header = 'Refusal reason'\n    const body = (\n      <div>\n        <button\n          style={spacing}\n          className=\"btn btn-info\"\n          onClick={this.props.reason}\n          data-reason=\"duplicate\">Using duplicate company name</button>\n        <button\n          style={spacing}\n          className=\"btn btn-info\"\n          onClick={this.props.reason}\n          data-reason=\"bad_data\">Improper information</button>\n        {this.props.inquiryDate !== null\n          ? <button\n              style={spacing}\n              className=\"btn btn-info\"\n              onClick={this.props.reason}\n              data-reason=\"no_response\">No response to inquiry since {this.props.inquiryDate}</button>\n          : null}\n      </div>\n    )\n    return (<Modal body={body} header={header}/>)\n  }\n}\n\nRefuseModal.propTypes = {\n  reason: React.PropTypes.func,\n  inquiryDate: React.PropTypes.string\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./javascript/ManagerApproval/ManagerApproval.jsx\n **/","export default function empty(value) {\n  return (value === undefined || value === null || value === 0 || value === '0' || value.length === 0)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./javascript/Mixin/Empty.js\n **/","'use strict'\nimport React from 'react'\n\nclass ErrorPage extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n\n  render() {\n    return <div>\n      <h2>Uh oh</h2>\n      <p>Something went wrong</p>\n      <pre>{this.props.message}</pre>\n    </div>\n  }\n}\n\nErrorPage.propTypes = {\n  message : React.PropTypes.string\n}\n\nexport default ErrorPage\n\n\n\n/** WEBPACK FOOTER **\n ** ./javascript/Mixin/ErrorPage.jsx\n **/"],"sourceRoot":""}